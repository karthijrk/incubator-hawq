update @gpupgradeschemaname@.pg_conversion set conforencoding = conforencoding + 1 where conforencoding >= 34;
update @gpupgradeschemaname@.pg_conversion set contoencoding = contoencoding + 1 where contoencoding >= 34;
update @gpupgradeschemaname@.pg_conversion set conforencoding = 40 where conforencoding = 5;
update @gpupgradeschemaname@.pg_conversion set contoencoding = 40 where contoencoding = 5;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.euc_jis_2004_to_shift_jis_2004 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/euc_jis_2004_and_shift_jis_2004', 'euc_jis_2004_to_shift_jis_2004' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.shift_jis_2004_to_euc_jis_2004 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/euc_jis_2004_and_shift_jis_2004', 'shift_jis_2004_to_euc_jis_2004' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.utf8_to_shift_jis_2004 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_shift_jis_2004', 'utf8_to_shift_jis_2004' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.shift_jis_2004_to_utf8 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_shift_jis_2004', 'shift_jis_2004_to_utf8' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.utf8_to_euc_jis_2004 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_euc_jis_2004', 'utf8_to_euc_jis_2004' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.euc_jis_2004_to_utf8 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_euc_jis_2004', 'euc_jis_2004_to_utf8' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.utf8_to_koi8u (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_cyrillic', 'utf8_to_koi8u' LANGUAGE C STRICT;
CREATE OR REPLACE FUNCTION @gpupgradeschemaname@.koi8u_to_utf8 (INTEGER, INTEGER, CSTRING, INTERNAL, INTEGER) RETURNS VOID AS '$libdir/utf8_and_cyrillic', 'koi8u_to_utf8' LANGUAGE C STRICT;

insert into @gpupgradeschemaname@.pg_conversion values('euc_jis_2004_to_shift_jis_2004', '11', '10', '5', '41', 'euc_jis_2004_to_shift_jis_2004', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('euc_jis_2004_to_utf8', '11', '10', '5', '6', 'euc_jis_2004_to_utf8', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('koi8_u_to_utf8', '11', '10', '34', '6', 'koi8u_to_utf8', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('utf8_to_koi8_u', '11', '10', '6', '34', 'utf8_to_koi8u', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('shift_jis_2004_to_utf8', '11', '10', '41', '6', 'shift_jis_2004_to_utf8', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('shift_jis_2004_to_euc_jis_2004', '11', '10', '41', '5', 'shift_jis_2004_to_euc_jis_2004', 't'); 
insert into @gpupgradeschemaname@.pg_conversion values('utf8_to_euc_jis_2004', '11', '10', '6', '5', 'utf8_to_euc_jis_2004', 't');
insert into @gpupgradeschemaname@.pg_conversion values('utf8_to_shift_jis_2004', '11', '10', '6', '41', 'utf8_to_shift_jis_2004', 't');

insert into @gpupgradeschemaname@.pg_depend select 2607, oid, 0, 1255, conproc, 0, 'n' from pg_catalog.pg_conversion where conname in('euc_jis_2004_to_shift_jis_2004', 'euc_jis_2004_to_utf8', 'koi8_u_to_utf8', 'utf8_to_koi8_u', 'shift_jis_2004_to_utf8', 'shift_jis_2004_to_euc_jis_2004', 'utf8_to_euc_jis_2004', 'utf8_to_shift_jis_2004');

-- these fill fail during regression testing but succeed for the upgrade

update @gpupgradeschemaname@.gp_version_at_initdb SET productversion = substring(version(), 'Greenplum Database ([^)]*)');

COMMENT ON FUNCTION @gpupgradeschemaname@.ascii_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SQL_ASCII to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_ascii(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to SQL_ASCII';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8r_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8R to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_koi8r(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to KOI8R';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for ISO-8859-5 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_iso(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to ISO-8859-5';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1251_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1251 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_win1251(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to WIN1251';
COMMENT ON FUNCTION @gpupgradeschemaname@.win866_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN866 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_win866(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to WIN866';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8r_to_win1251(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8R to WIN1251';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1251_to_koi8r(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1251 to KOI8R';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8r_to_win866(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8R to WIN866';
COMMENT ON FUNCTION @gpupgradeschemaname@.win866_to_koi8r(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN866 to KOI8R';
COMMENT ON FUNCTION @gpupgradeschemaname@.win866_to_win1251(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN866 to WIN1251';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1251_to_win866(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1251 to WIN866';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso_to_koi8r(integer, integer, cstring, internal, integer)  IS 'internal conversion function for ISO-8859-5 to KOI8R';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8r_to_iso(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8R to ISO-8859-5';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso_to_win1251(integer, integer, cstring, internal, integer)  IS 'internal conversion function for ISO-8859-5 to WIN1251';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1251_to_iso(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1251 to ISO-8859-5';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso_to_win866(integer, integer, cstring, internal, integer)  IS 'internal conversion function for ISO-8859-5 to WIN866';
COMMENT ON FUNCTION @gpupgradeschemaname@.win866_to_iso(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN866 to ISO-8859-5';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_cn_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_CN to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_euc_cn(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to EUC_CN';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_jp_to_sjis(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_JP to SJIS';
COMMENT ON FUNCTION @gpupgradeschemaname@.sjis_to_euc_jp(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SJIS to EUC_JP';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_jp_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_JP to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.sjis_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SJIS to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_euc_jp(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to EUC_JP';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_sjis(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to SJIS';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_kr_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_KR to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_euc_kr(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to EUC_KR';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_tw_to_big5(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_TW to BIG5';
COMMENT ON FUNCTION @gpupgradeschemaname@.big5_to_euc_tw(integer, integer, cstring, internal, integer)  IS 'internal conversion function for BIG5 to EUC_TW';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_tw_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_TW to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.big5_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for BIG5 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_euc_tw(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to EUC_TW';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_big5(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to BIG5';
COMMENT ON FUNCTION @gpupgradeschemaname@.latin2_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN2 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_latin2(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to LATIN2';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1250_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1250 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_win1250(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to WIN1250';
COMMENT ON FUNCTION @gpupgradeschemaname@.latin2_to_win1250(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN2 to WIN1250';
COMMENT ON FUNCTION @gpupgradeschemaname@.win1250_to_latin2(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1250 to LATIN2';
COMMENT ON FUNCTION @gpupgradeschemaname@.latin1_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN1 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_latin1(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to LATIN1';
COMMENT ON FUNCTION @gpupgradeschemaname@.latin3_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN3 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_latin3(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to LATIN3';
COMMENT ON FUNCTION @gpupgradeschemaname@.latin4_to_mic(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN4 to MULE_INTERNAL';
COMMENT ON FUNCTION @gpupgradeschemaname@.mic_to_latin4(integer, integer, cstring, internal, integer)  IS 'internal conversion function for MULE_INTERNAL to LATIN4';
COMMENT ON FUNCTION @gpupgradeschemaname@.ascii_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SQL_ASCII to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_ascii(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to SQL_ASCII';
COMMENT ON FUNCTION @gpupgradeschemaname@.big5_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for BIG5 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_big5(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to BIG5';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_koi8r(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to KOI8R';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8r_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8R to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_koi8u(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to KOI8U';
COMMENT ON FUNCTION @gpupgradeschemaname@.koi8u_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for KOI8U to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_win(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to WIN1258';
COMMENT ON FUNCTION @gpupgradeschemaname@.win_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for WIN1258 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_cn_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_CN to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_euc_cn(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to EUC_CN';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_jp_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_JP to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_euc_jp(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to EUC_JP';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_kr_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_KR to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_euc_kr(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to EUC_KR';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_tw_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_TW to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_euc_tw(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to EUC_TW';
COMMENT ON FUNCTION @gpupgradeschemaname@.gb18030_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for GB18030 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_gb18030(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to GB18030';
COMMENT ON FUNCTION @gpupgradeschemaname@.gbk_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for GBK to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_gbk(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to GBK';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_iso8859(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to ISO-8859-8';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso8859_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for ISO-8859-8 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.iso8859_1_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for LATIN1 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_iso8859_1(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to LATIN1';
COMMENT ON FUNCTION @gpupgradeschemaname@.johab_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for JOHAB to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_johab(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to JOHAB';
COMMENT ON FUNCTION @gpupgradeschemaname@.sjis_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SJIS to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_sjis(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to SJIS';
COMMENT ON FUNCTION @gpupgradeschemaname@.uhc_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UHC to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_uhc(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to UHC';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_jis_2004_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_JIS_2004 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_euc_jis_2004(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to EUC_JIS_2004';
COMMENT ON FUNCTION @gpupgradeschemaname@.shift_jis_2004_to_utf8(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SHIFT_JIS_2004 to UTF8';
COMMENT ON FUNCTION @gpupgradeschemaname@.utf8_to_shift_jis_2004(integer, integer, cstring, internal, integer)  IS 'internal conversion function for UTF8 to SHIFT_JIS_2004';
COMMENT ON FUNCTION @gpupgradeschemaname@.euc_jis_2004_to_shift_jis_2004(integer, integer, cstring, internal, integer)  IS 'internal conversion function for EUC_JIS_2004 to SHIFT_JIS_2004';
COMMENT ON FUNCTION @gpupgradeschemaname@.shift_jis_2004_to_euc_jis_2004(integer, integer, cstring, internal, integer)  IS 'internal conversion function for SHIFT_JIS_2004 to EUC_JIS_2004';

COMMENT ON CONVERSION @gpupgradeschemaname@.ascii_to_mic IS 'conversion for SQL_ASCII to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_ascii IS 'conversion for MULE_INTERNAL to SQL_ASCII';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_r_to_mic IS 'conversion for KOI8R to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_koi8_r IS 'conversion for MULE_INTERNAL to KOI8R';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_5_to_mic IS 'conversion for ISO-8859-5 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_iso_8859_5 IS 'conversion for MULE_INTERNAL to ISO-8859-5';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1251_to_mic IS 'conversion for WIN1251 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_windows_1251 IS 'conversion for MULE_INTERNAL to WIN1251';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_866_to_mic IS 'conversion for WIN866 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_windows_866 IS 'conversion for MULE_INTERNAL to WIN866';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_r_to_windows_1251 IS 'conversion for KOI8R to WIN1251';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1251_to_koi8_r IS 'conversion for WIN1251 to KOI8R';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_r_to_windows_866 IS 'conversion for KOI8R to WIN866';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_866_to_koi8_r IS 'conversion for WIN866 to KOI8R';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_866_to_windows_1251 IS 'conversion for WIN866 to WIN1251';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1251_to_windows_866 IS 'conversion for WIN1251 to WIN866';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_5_to_koi8_r IS 'conversion for ISO-8859-5 to KOI8R';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_r_to_iso_8859_5 IS 'conversion for KOI8R to ISO-8859-5';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_5_to_windows_1251 IS 'conversion for ISO-8859-5 to WIN1251';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1251_to_iso_8859_5 IS 'conversion for WIN1251 to ISO-8859-5';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_5_to_windows_866 IS 'conversion for ISO-8859-5 to WIN866';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_866_to_iso_8859_5 IS 'conversion for WIN866 to ISO-8859-5';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_cn_to_mic IS 'conversion for EUC_CN to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_euc_cn IS 'conversion for MULE_INTERNAL to EUC_CN';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_jp_to_sjis IS 'conversion for EUC_JP to SJIS';
COMMENT ON CONVERSION @gpupgradeschemaname@.sjis_to_euc_jp IS 'conversion for SJIS to EUC_JP';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_jp_to_mic IS 'conversion for EUC_JP to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.sjis_to_mic IS 'conversion for SJIS to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_euc_jp IS 'conversion for MULE_INTERNAL to EUC_JP';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_sjis IS 'conversion for MULE_INTERNAL to SJIS';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_kr_to_mic IS 'conversion for EUC_KR to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_euc_kr IS 'conversion for MULE_INTERNAL to EUC_KR';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_tw_to_big5 IS 'conversion for EUC_TW to BIG5';
COMMENT ON CONVERSION @gpupgradeschemaname@.big5_to_euc_tw IS 'conversion for BIG5 to EUC_TW';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_tw_to_mic IS 'conversion for EUC_TW to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.big5_to_mic IS 'conversion for BIG5 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_euc_tw IS 'conversion for MULE_INTERNAL to EUC_TW';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_big5 IS 'conversion for MULE_INTERNAL to BIG5';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_2_to_mic IS 'conversion for LATIN2 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_iso_8859_2 IS 'conversion for MULE_INTERNAL to LATIN2';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1250_to_mic IS 'conversion for WIN1250 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_windows_1250 IS 'conversion for MULE_INTERNAL to WIN1250';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_2_to_windows_1250 IS 'conversion for LATIN2 to WIN1250';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1250_to_iso_8859_2 IS 'conversion for WIN1250 to LATIN2';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_1_to_mic IS 'conversion for LATIN1 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_iso_8859_1 IS 'conversion for MULE_INTERNAL to LATIN1';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_3_to_mic IS 'conversion for LATIN3 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_iso_8859_3 IS 'conversion for MULE_INTERNAL to LATIN3';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_4_to_mic IS 'conversion for LATIN4 to MULE_INTERNAL';
COMMENT ON CONVERSION @gpupgradeschemaname@.mic_to_iso_8859_4 IS 'conversion for MULE_INTERNAL to LATIN4';
COMMENT ON CONVERSION @gpupgradeschemaname@.ascii_to_utf8 IS 'conversion for SQL_ASCII to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_ascii IS 'conversion for UTF8 to SQL_ASCII';
COMMENT ON CONVERSION @gpupgradeschemaname@.big5_to_utf8 IS 'conversion for BIG5 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_big5 IS 'conversion for UTF8 to BIG5';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_koi8_r IS 'conversion for UTF8 to KOI8R';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_r_to_utf8 IS 'conversion for KOI8R to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_koi8_u IS 'conversion for UTF8 to KOI8U';
COMMENT ON CONVERSION @gpupgradeschemaname@.koi8_u_to_utf8 IS 'conversion for KOI8U to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1258 IS 'conversion for UTF8 to WIN1258';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1257 IS 'conversion for UTF8 to WIN1257';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1256 IS 'conversion for UTF8 to WIN1256';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1255 IS 'conversion for UTF8 to WIN1255';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1254 IS 'conversion for UTF8 to WIN1254';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1253 IS 'conversion for UTF8 to WIN1253';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1252 IS 'conversion for UTF8 to WIN1252';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1251 IS 'conversion for UTF8 to WIN1251';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_1250 IS 'conversion for UTF8 to WIN1250';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_874 IS 'conversion for UTF8 to WIN874';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_windows_866 IS 'conversion for UTF8 to WIN866';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1258_to_utf8 IS 'conversion for WIN1258 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1257_to_utf8 IS 'conversion for WIN1257 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1256_to_utf8 IS 'conversion for WIN1256 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1255_to_utf8 IS 'conversion for WIN1255 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1254_to_utf8 IS 'conversion for WIN1254 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1253_to_utf8 IS 'conversion for WIN1253 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1252_to_utf8 IS 'conversion for WIN1252 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1251_to_utf8 IS 'conversion for WIN1251 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_1250_to_utf8 IS 'conversion for WIN1250 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_874_to_utf8 IS 'conversion for WIN874 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.windows_866_to_utf8 IS 'conversion for WIN866 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_cn_to_utf8 IS 'conversion for EUC_CN to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_euc_cn IS 'conversion for UTF8 to EUC_CN';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_jp_to_utf8 IS 'conversion for EUC_JP to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_euc_jp IS 'conversion for UTF8 to EUC_JP';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_kr_to_utf8 IS 'conversion for EUC_KR to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_euc_kr IS 'conversion for UTF8 to EUC_KR';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_tw_to_utf8 IS 'conversion for EUC_TW to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_euc_tw IS 'conversion for UTF8 to EUC_TW';
COMMENT ON CONVERSION @gpupgradeschemaname@.gb18030_to_utf8 IS 'conversion for GB18030 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_gb18030 IS 'conversion for UTF8 to GB18030';
COMMENT ON CONVERSION @gpupgradeschemaname@.gbk_to_utf8 IS 'conversion for GBK to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_gbk IS 'conversion for UTF8 to GBK';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_8 IS 'conversion for UTF8 to ISO-8859-8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_7 IS 'conversion for UTF8 to ISO-8859-7';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_6 IS 'conversion for UTF8 to ISO-8859-6';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_5 IS 'conversion for UTF8 to ISO-8859-5';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_16 IS 'conversion for UTF8 to LATIN10';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_15 IS 'conversion for UTF8 to LATIN9';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_14 IS 'conversion for UTF8 to LATIN8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_13 IS 'conversion for UTF8 to LATIN7';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_10 IS 'conversion for UTF8 to LATIN6';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_9 IS 'conversion for UTF8 to LATIN5';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_4 IS 'conversion for UTF8 to LATIN4';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_3 IS 'conversion for UTF8 to LATIN3';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_2 IS 'conversion for UTF8 to LATIN2';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_8_to_utf8 IS 'conversion for ISO-8859-8 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_7_to_utf8 IS 'conversion for ISO-8859-7 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_6_to_utf8 IS 'conversion for ISO-8859-6 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_5_to_utf8 IS 'conversion for ISO-8859-5 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_16_to_utf8 IS 'conversion for LATIN10 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_15_to_utf8 IS 'conversion for LATIN9 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_14_to_utf8 IS 'conversion for LATIN8 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_13_to_utf8 IS 'conversion for LATIN7 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_10_to_utf8 IS 'conversion for LATIN6 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_9_to_utf8 IS 'conversion for LATIN5 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_4_to_utf8 IS 'conversion for LATIN4 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_3_to_utf8 IS 'conversion for LATIN3 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_2_to_utf8 IS 'conversion for LATIN2 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.iso_8859_1_to_utf8 IS 'conversion for LATIN1 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_iso_8859_1 IS 'conversion for UTF8 to LATIN1';
COMMENT ON CONVERSION @gpupgradeschemaname@.johab_to_utf8 IS 'conversion for JOHAB to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_johab IS 'conversion for UTF8 to JOHAB';
COMMENT ON CONVERSION @gpupgradeschemaname@.sjis_to_utf8 IS 'conversion for SJIS to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_sjis IS 'conversion for UTF8 to SJIS';
COMMENT ON CONVERSION @gpupgradeschemaname@.uhc_to_utf8 IS 'conversion for UHC to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_uhc IS 'conversion for UTF8 to UHC';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_jis_2004_to_utf8 IS 'conversion for EUC_JIS_2004 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_euc_jis_2004 IS 'conversion for UTF8 to EUC_JIS_2004';
COMMENT ON CONVERSION @gpupgradeschemaname@.shift_jis_2004_to_utf8 IS 'conversion for SHIFT_JIS_2004 to UTF8';
COMMENT ON CONVERSION @gpupgradeschemaname@.utf8_to_shift_jis_2004 IS 'conversion for UTF8 to SHIFT_JIS_2004';
COMMENT ON CONVERSION @gpupgradeschemaname@.euc_jis_2004_to_shift_jis_2004 IS 'conversion for EUC_JIS_2004 to SHIFT_JIS_2004';
COMMENT ON CONVERSION @gpupgradeschemaname@.shift_jis_2004_to_euc_jis_2004 IS 'conversion for SHIFT_JIS_2004 to EUC_JIS_2004';

update @gpinfoschemaname@.sql_implementation_info set character_value='08.02.0013' where implementation_info_id=18;

-- MPP-5788 - delete pg_depend entries between aggregates and functions that don't exist
delete from @gpupgradeschemaname@.pg_depend d using @gpupgradeschemaname@.pg_proc p where (p.oid = d.objid) and p.proisagg and (d.refclassid = 'pg_proc'::regclass) and (d.refobjid not in (select oid from pg_proc));

-- MPP-4008, MPP-6155 - Fix owners and dependency information for user defined types
-- Both updates should update zero rows in the upg2 test
update @gpupgradeschemaname@.pg_class set relowner=typowner from @gpupgradeschemaname@.pg_type t where relkind='c' and t.oid=reltype;
update @gpupgradeschemaname@.pg_depend set classid='pg_type'::regclass, objid=reltype from @gpupgradeschemaname@.pg_class where refclassid='pg_namespace'::regclass and objid=oid and relkind='c';
